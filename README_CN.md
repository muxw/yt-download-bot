# ytdlbot

**[English](README.md)** | **[ä¸­æ–‡](README_CN.md)**

> **è¿™æ˜¯ [tgbot-collection/ytdlbot](https://github.com/tgbot-collection/ytdlbot) çš„ Fork ç‰ˆæœ¬ï¼Œæ·»åŠ äº†é¢å¤–åŠŸèƒ½ã€‚**

[![docker image](https://github.com/tgbot-collection/ytdlbot/actions/workflows/builder.yaml/badge.svg)](https://github.com/tgbot-collection/ytdlbot/actions/workflows/builder.yaml)

**YouTube è§†é¢‘ä¸‹è½½æœºå™¨äººğŸš€ğŸ¬â¬‡ï¸**

è¿™ä¸ª Telegram æœºå™¨äººå¯ä»¥å¸®ä½ ä¸‹è½½ YouTube å’Œ[å…¶ä»–æ”¯æŒç½‘ç«™](#æ”¯æŒçš„ç½‘ç«™)çš„è§†é¢‘ã€‚

## Fork ç‰ˆæœ¬æ–°å¢åŠŸèƒ½

### ğŸŒ å¤šè¯­è¨€æ”¯æŒï¼ˆä¸­æ–‡/Englishï¼‰
- ç”¨æˆ·å¯ä»¥åœ¨ `/settings` ä¸­åˆ‡æ¢ä¸­æ–‡å’Œè‹±æ–‡
- æ‰€æœ‰æœºå™¨äººæ¶ˆæ¯éƒ½æ”¯æŒåŒè¯­

### ğŸ¬ åˆ†è¾¨ç‡é€‰æ‹©
- å‘é€è§†é¢‘é“¾æ¥æ—¶ï¼Œæœºå™¨äººä¼šåˆ†æå¯ç”¨çš„åˆ†è¾¨ç‡
- æ˜¾ç¤ºåˆ†è¾¨ç‡é€‰é¡¹å’Œé¢„ä¼°æ–‡ä»¶å¤§å°
- ç”¨æˆ·å¯ä»¥åœ¨ä¸‹è½½å‰é€‰æ‹©æƒ³è¦çš„ç”»è´¨

### ğŸ”— è‡ªåŠ¨æå–é“¾æ¥
- è‡ªåŠ¨ä»åŒ…å«å…¶ä»–æ–‡å­—çš„æ¶ˆæ¯ä¸­æå–é“¾æ¥
- æ”¯æŒè½¬å‘çš„åŒ…å«é“¾æ¥çš„æ¶ˆæ¯
- ç¤ºä¾‹ï¼š"è¯·å¸®æˆ‘ä¸‹è½½è¿™ä¸ªè§†é¢‘ https://youtube.com/xxx è°¢è°¢" â†’ è‡ªåŠ¨æå–é“¾æ¥

---

# ä½¿ç”¨æ–¹æ³•

* æ¬§æ´²ğŸ‡ªğŸ‡º: [https://t.me/benny_2ytdlbot](https://t.me/benny_2ytdlbot)
* æ–°åŠ å¡ğŸ‡¸ğŸ‡¬: [https://t.me/benny_ytdlbot](https://t.me/benny_ytdlbot)

* åŠ å…¥ Telegram é¢‘é“è·å–æ›´æ–°ï¼šhttps://t.me/ytdlbot0

ç›´æ¥å‘é€é“¾æ¥ç»™æœºå™¨äººå³å¯ã€‚

# æ”¯æŒçš„ç½‘ç«™

* YouTube
* æ‰€æœ‰ [yt-dlp æ”¯æŒçš„ç½‘ç«™](https://github.com/yt-dlp/yt-dlp/blob/master/supportedsites.md)

  ### ç‰¹å®šé“¾æ¥ä¸‹è½½å™¨ï¼ˆä½¿ç”¨ /spdl å‘½ä»¤ä¸‹è½½è¿™äº›é“¾æ¥ï¼‰
    * Instagramï¼ˆè§†é¢‘ã€å›¾ç‰‡ã€Reelsã€IGTV å’Œè½®æ’­å›¾ï¼‰
    * Pixeldrain
    * KrakenFiles

# åŠŸèƒ½ç‰¹ç‚¹

1. å¿«é€Ÿä¸‹è½½å’Œä¸Šä¼ 
2. æ— å¹¿å‘Š
3. ä¸‹è½½å’Œä¸Šä¼ è¿›åº¦æ¡
4. ç”»è´¨é€‰æ‹©
5. ä¸Šä¼ æ ¼å¼ï¼šæ–‡ä»¶ã€è§†é¢‘ã€éŸ³é¢‘
6. ç¼“å­˜æœºåˆ¶ - ç›¸åŒè§†é¢‘åªéœ€ä¸‹è½½ä¸€æ¬¡
7. æ”¯æŒå¤šç§ä¸‹è½½å¼•æ“ï¼ˆyt-dlpã€aria2ã€requestsï¼‰

> ## é™åˆ¶
> ç”±äºæœåŠ¡å™¨å’Œå¸¦å®½çš„é™åˆ¶ï¼Œå…è´¹æœåŠ¡æœ‰ä¸€äº›é™åˆ¶ï¼š
> * æ¯ä¸ªç”¨æˆ·æ¯å¤©é™åˆ¶ 1 æ¬¡å…è´¹ä¸‹è½½

# æˆªå›¾

## æ™®é€šä¸‹è½½

![](assets/1.jpeg)

## Instagram ä¸‹è½½

![](assets/instagram.png)

![](assets/2.jpeg)

# å¦‚ä½•éƒ¨ç½²ï¼Ÿ

è¿™ä¸ªæœºå™¨äººå¯ä»¥éƒ¨ç½²åœ¨ä»»ä½•æ”¯æŒ Python çš„å¹³å°ä¸Šã€‚

## åœ¨æœ¬åœ°æœºå™¨ä¸Šè¿è¡Œ

> é¡¹ç›®ä½¿ç”¨ PDM ç®¡ç†ä¾èµ–ã€‚

1. <details>
    <summary>å®‰è£… PDM</summary>

    å¯ä»¥ä½¿ç”¨ pip å®‰è£…ï¼š`pip install --user pdm`
    æˆ–æŸ¥çœ‹è¯¦ç»†è¯´æ˜ï¼š[å®˜æ–¹æ–‡æ¡£](https://pdm-project.org/en/latest/#installation)

   </details>

2. ä½¿ç”¨ PDM å®‰è£…æ¨¡å—ï¼š`pdm install`ï¼Œæˆ–è€…ç”¨ä¼ ç»Ÿæ–¹å¼ `pip install -r requirements.txt`

> [!IMPORTANT]
> æ‰€æœ‰æƒ³è¦ä» YouTube ä¸‹è½½çš„ç”¨æˆ·ï¼Œå¼ºçƒˆå»ºè®®å®‰è£… yt-dlp æ”¯æŒçš„ JS è¿è¡Œæ—¶ï¼ˆå¦‚ denoï¼‰ã€‚

3. <details>
    <summary>è®¾ç½®é…ç½®æ–‡ä»¶</summary>

    ```
    cp .env.example .env
    ```

    å¡«å†™ `.env` ä¸­çš„å­—æ®µã€‚æ›´å¤šä¿¡æ¯è¯·å‚é˜… `.env.example` æ–‡ä»¶ä¸­çš„æ³¨é‡Šã€‚

    **- å¿…å¡«å­—æ®µ**
    - `WORKERS`: Worker æ•°é‡ï¼ˆé»˜è®¤ 100ï¼‰
    - `APP_ID`: Telegram App ID
    - `APP_HASH`: Telegram App Hash
    - `BOT_TOKEN`: ä½ çš„ Telegram æœºå™¨äºº Token
    - `OWNER`: æ‰€æœ‰è€… IDï¼ˆå¤šä¸ªç”¨ `,` åˆ†éš”ï¼‰
    - `AUTHORIZED_USER`: æˆæƒç”¨æˆ· ID åˆ—è¡¨ï¼ˆå¤šä¸ªç”¨ `,` åˆ†éš”ï¼‰
    - `DB_DSN`: æ•°æ®åº“ URLï¼ˆmysql+pymysql://user:pass@mysql/dbnameï¼‰æˆ– SQLiteï¼ˆsqlite:///db.sqliteï¼‰
    - `REDIS_HOST`: Redis ä¸»æœº

    **- å¯é€‰å­—æ®µ**
    - `ENABLE_FFMPEG`: å¯ç”¨ FFMPEG è§†é¢‘å¤„ç†ï¼ˆTrue/Falseï¼‰
    - `AUDIO_FORMAT`: æœŸæœ›çš„éŸ³é¢‘æ ¼å¼ï¼ˆå¦‚ï¼šmp3ã€wavï¼‰
    - `ENABLE_ARIA2`: å¯ç”¨ Aria2 ä¸‹è½½ï¼ˆTrue/Falseï¼‰
    - `RCLONE_PATH`: Rclone å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„
    - `ENABLE_VIP`: å¯ç”¨ VIP åŠŸèƒ½ï¼ˆTrue/Falseï¼‰
    - `PROVIDER_TOKEN`: Stripe æ”¯ä»˜æä¾›å•† Token
    - `FREE_DOWNLOAD`: æ¯ä¸ªç”¨æˆ·å…è®¸çš„å…è´¹ä¸‹è½½æ¬¡æ•°
    - `RATE_LIMIT`: è¯·æ±‚é€Ÿç‡é™åˆ¶
    - `TMPFILE_PATH`: ä¸´æ—¶/ä¸‹è½½æ–‡ä»¶è·¯å¾„ï¼ˆç¡®ä¿ç›®å½•å­˜åœ¨ä¸”å¯å†™ï¼‰
    - `TG_NORMAL_MAX_SIZE`: Telegram ä¸Šä¼ æœ€å¤§å¤§å°ï¼ˆMBï¼‰
    - `CAPTION_URL_LENGTH_LIMIT`: æ ‡é¢˜ä¸­ URL æœ€å¤§é•¿åº¦
    - `POTOKEN`: ä½ çš„ PO Tokenã€‚[PO-Token-æŒ‡å—](https://github.com/yt-dlp/yt-dlp/wiki/PO-Token-Guide)
    - `BROWSERS`: ç”¨äºå¤„ç†"æµè§ˆå™¨ cookies"çš„æµè§ˆå™¨ï¼Œå¦‚ firefox
  </details>

4. æ¿€æ´» PDM åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒï¼š`source .venv/bin/activate`

5. æœ€åè¿è¡Œæœºå™¨äººï¼š`python src/main.py`

## Docker

ä¸€è¡Œå‘½ä»¤è¿è¡Œæœºå™¨äººï¼š

```shell
docker run --env-file .env bennythink/ytdlbot
```

# å‘½ä»¤

```
start - å¼€å§‹ä½¿ç”¨
about - å…³äºè¿™ä¸ªæœºå™¨äºº
help - å¸®åŠ©
spdl - ç”¨äºä¸‹è½½ç‰¹å®šé“¾æ¥ä¸‹è½½å™¨æ”¯æŒçš„é“¾æ¥
direct - ä½¿ç”¨ aria2/requests å¼•æ“ä¸‹è½½
ytdl - åœ¨ç¾¤ç»„ä¸­ä¸‹è½½è§†é¢‘
settings - è®¾ç½®åå¥½
unsub - å–æ¶ˆè®¢é˜… YouTube é¢‘é“
ping - Ping æœºå™¨äºº
stats - æœåŠ¡å™¨å’Œæœºå™¨äººç»Ÿè®¡
buy - è´­ä¹°é…é¢
```

# æµ‹è¯•æ•°æ®

<details><summary>ç‚¹å‡»å±•å¼€</summary>

## æµ‹è¯•è§†é¢‘

https://www.youtube.com/watch?v=V3RtA-1b_2E

## æµ‹è¯•æ’­æ”¾åˆ—è¡¨

https://www.youtube.com/playlist?list=PL1Hdq7xjQCJxQnGc05gS4wzHWccvEJy0w

## æµ‹è¯• Twitter

https://twitter.com/nitori_sayaka/status/1526199729864200192
https://twitter.com/BennyThinks/status/1475836588542341124

## æµ‹è¯• Instagram

* å•å¼ å›¾ç‰‡ï¼šhttps://www.instagram.com/p/CXpxSyOrWCA/
* å•ä¸ªè§†é¢‘ï¼šhttps://www.instagram.com/p/Cah_7gnDVUW/
* Reelsï¼šhttps://www.instagram.com/p/C0ozGsjtY0W/
* å›¾ç‰‡è½®æ’­ï¼šhttps://www.instagram.com/p/C0ozPQ5o536/
* è§†é¢‘å’Œå›¾ç‰‡è½®æ’­ï¼šhttps://www.instagram.com/p/C0ozhsVo-m8/

## æµ‹è¯• Pixeldrain

https://pixeldrain.com/u/765ijw9i

## æµ‹è¯• KrakenFiles

https://krakenfiles.com/view/oqmSTF0T5t/file.html

</details>

# è®¸å¯è¯

Apache License 2.0
